<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_51) on Thu Nov 21 01:54:44 IST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>CacheManager (WNC.HORSE.10.00.602)</title>
<meta name="date" content="2019-11-21">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CacheManager (WNC.HORSE.10.00.602)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../wt/cache/GuavaCacheMonitorMBean.html" title="interface in wt.cache"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?wt/cache/CacheManager.html" target="_top">Frames</a></li>
<li><a href="CacheManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">wt.cache</div>
<h2 title="Class CacheManager" class="title">Class CacheManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>RMIServer</li>
<li>
<ul class="inheritance">
<li>wt.cache.CacheManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.rmi.server.Unreferenced</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../com/ptc/windchill/esi/tgt/ESIDefaultTargetsCache.html" title="class in com.ptc.windchill.esi.tgt">ESIDefaultTargetsCache</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">CacheManager</span>
extends RMIServer
implements java.rmi.server.Unreferenced</pre>
<div class="block">A multi-level cache manager service.
 This is an abstract parent class for specialized object caches.  A cache is a fixed
 size collection of most recently used objects identified by a unique identifier.
 <p>
 This class manages the maintenance and synchronization of multi-level caches where
 multiple cache objects (usually in separate VMs) have a master/slave relationship.
 Updates to a cache are pushed synchronously to the master cache which asynchronously
 notifies other slave caches that an entry has been updated.
 <p>
 To be effective, updates to cached objects must notify the cache so that master/slave
 caches may receive corresponding updates.  It is the responsibility of the application
 to make this happen.
 <p>
 When a new entry is put into the cache, the entire object is sent to the master cache.
 When an update call is made, the master is sent only the update.  If the master has aged
 out it's cache entry, it will attempt to retrieve the full object from the slave.
 <p>
 IMPORTANT NOTE: If your subclass overrides the overflow method, please be aware that after
 the method returns the cache will preceed to remove whatever object is currently marked
 as least recently used.  This means that if your overflow method changes the state of the
 cache, the object overflowed may differ from the object passed into the overflow method
 (e.g. if you call super.remove(key) in the overflow method, after the overflow call returns
 the cache will proceed to remove what was second least recently used object, now the least
 recently used after the call to remove).
 <p>
 The follow example is a simple cache of a objects used similarly to how a static
 Hashtable of object references would be used.
 <blockquote><pre>
 public class FooManager
 {
    // Foo cache
    private static FooCache fooCache = null;

    // Get/create Foo cache (unsynchronized)
    private static FooCache getFooCache ()
    {
       if (fooCache == null)
           createFooCache();
       return fooCache;
    }

    // Create Foo cache (synchronized)
    private static synchronized void createFooCache ()
    {
       if (fooCache == null)
       {
          try
          {
             fooCache = new FooCache();
          }
          catch (RemoteException e)
          {
             // Fatal - throw as method server exception
             throw new MethodServerException("Unable to create foo cache", e);
          }
       }
    }

    public Foo getFoo (Object foo_key)
    {
       FooCache foo_cache = getFooCache();
       Foo foo = (Foo)foo_cache.get(foo_key);
       if (foo == null)
       {
          // Get or create foo object
          foo = ...

          // Add to foo cache
          foo_cache.put(foo_key, foo);
       }
       return foo;
    }

    public void updateFoo (Foo foo, ...)
    {
       // Do update
       Foo new_foo = ...

       // Update foo cache (required even if new_foo is current cache entry)
       Object foo_key = ...
       getFooCache().put(foo_key, new_foo);
    }
 }

 public class FooCache extends CacheManager
 {
    public FooCache ()
       throws RemoteException
    {
       super();
    }
 }
 </pre></blockquote>
 At any given time one server manager in a cluster will be serving as the cache
 master. If this server manager fails, then another server manager will automatically
 switch from a subordinate (slave) role to the cache master role. When this occurs,
 all existing CacheManager instances within that server manager are "shutdown" and
 disconnected from cache communications.  These instances are then replaced by new
 instances as needed.
 <BR><BR><B>Supported API:</B> true
 <BR><B>Extendable:</B> true</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink">wt.cache.CacheManager.LockHolder</span></code>
<div class="block">Internal experiment using an AutoCloseable and try-with-resources
  to make use of Lock objects cleaner.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#CacheManager--">CacheManager</a></span>()</code>
<div class="block">Construct a cache manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#CacheManager-java.lang.String-int-RemoteCacheServer-">CacheManager</a></span>(java.lang.String&nbsp;name,
            int&nbsp;size,
            RemoteCacheServer&nbsp;master)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#get-java.lang.Object-">get</a></span>(java.lang.Object&nbsp;key)</code>
<div class="block">Get cache entry with given key.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#getDefaultName--">getDefaultName</a></span>()</code>
<div class="block">Get desired name of this cache.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#getDefaultSize--">getDefaultSize</a></span>()</code>
<div class="block">Get desired size of this cache.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#isShutdown--">isShutdown</a></span>()</code>
<div class="block">Whether this instance has been shutdown.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#put-java.lang.Object-java.lang.Object-">put</a></span>(java.lang.Object&nbsp;key,
   java.lang.Object&nbsp;value)</code>
<div class="block">Put a cache entry with given key.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#putEntry-java.lang.Object-java.lang.Object-">putEntry</a></span>(java.lang.Object&nbsp;key,
        java.lang.Object&nbsp;value)</code>
<div class="block">Protected method which allows subclasses of CacheManager to
 take some action when a new entry is being put into the local cache.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#remove-java.lang.Object-">remove</a></span>(java.lang.Object&nbsp;key)</code>
<div class="block">Remove an entry from the cache.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#removeEntry-java.lang.Object-">removeEntry</a></span>(java.lang.Object&nbsp;key)</code>
<div class="block">Protected method which allows subclasses of CacheManager to
 take some action when a entry is being removed from the local cache.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#replaceInstance--">replaceInstance</a></span>()</code>
<div class="block">Called on a CacheManager that has been shutdown to allow subclass implementations
  to provide for a CacheManager's own replacement where this is necessary or where timely
  replacement is important.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#reset--">reset</a></span>()</code>
<div class="block">Reset local cache after master reconnect.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#shutdownInstance--">shutdownInstance</a></span>()</code>
<div class="block">Method intended for override by subclasses that need to do extra cleanup
  when a CacheManager instance is shut down and replaced.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#update-java.lang.Object-java.lang.Object-java.lang.Object-">update</a></span>(java.lang.Object&nbsp;cache_key,
      java.lang.Object&nbsp;update_key,
      java.lang.Object&nbsp;update_value)</code>
<div class="block">Notify master and slave caches of a partial update to a large cache entry.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../wt/cache/CacheManager.html#updateEntry-java.lang.Object-java.lang.Object-java.lang.Object-">updateEntry</a></span>(java.lang.Object&nbsp;current_value,
           java.lang.Object&nbsp;update_key,
           java.lang.Object&nbsp;update_value)</code>
<div class="block">Perform a partial update to a large cached object.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CacheManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CacheManager</h4>
<pre>public&nbsp;CacheManager()
             throws java.rmi.RemoteException</pre>
<div class="block">Construct a cache manager.
 <p>
 The cache name is obtained by calling the <code>getDefaultName</code> method.
 The cache size if obtained by calling the <code>getDefaultSize</code> method.
 <p>
 Note that in code executing within the server manager one should never directly
 construct CacheManager instances.  Instead these should always be obtained via
 <code>ServerManager#getServer(java.lang.String)</code> as only instances returned by
 this method play their proper role in cache communication.

 <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.rmi.RemoteException</code></dd>
</dl>
</li>
</ul>
<a name="CacheManager-java.lang.String-int-RemoteCacheServer-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CacheManager</h4>
<pre>@Deprecated
public&nbsp;CacheManager(java.lang.String&nbsp;name,
                                int&nbsp;size,
                                RemoteCacheServer&nbsp;master)
                         throws java.rmi.RemoteException</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
<div class="block">Construct a cache manager.
 This constructor is available for subclasses that don't rely on the default no-arg
 constructor.
 <p>
 Note that in code executing within the server manager one should never directly
 construct CacheManager instances.  Instead these should always be obtained via
 <code>ServerManager#getServer(java.lang.String)</code> as only instances returned by
 this method play their proper role in cache communication.

 <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - cache name used in debug tracing</dd>
<dd><code>size</code> - maximum number of entries in the cache</dd>
<dd><code>master</code> - <code>RemoteCacheServer</code> used to call master cache (null = no master)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.rmi.RemoteException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDefaultName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDefaultName()</pre>
<div class="block">Get desired name of this cache.
 This method returns the last element of the fully qualified class name.
 Subclasses can override this method to control cache name in some other way.
 <BR><BR><B>Supported API:</B> true</div>
</li>
</ul>
<a name="getDefaultSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultSize</h4>
<pre>public&nbsp;int&nbsp;getDefaultSize()</pre>
<div class="block">Get desired size of this cache.
 This method attempts to find a size property called <code>wt.cache.size.CacheName</code>
 where <code>cacheName</code> is the name of this cache.  Subclasses can override this
 method to control cache size in some other way.  If no property is found, the default
 size is 100.
 <BR><BR><B>Supported API:</B> true</div>
</li>
</ul>
<a name="reset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()
           throws java.rmi.RemoteException</pre>
<div class="block">Reset local cache after master reconnect.
 <p>
 Called after recovery from communication failure when a connection to a
 new master has been established.  The current cache contents are cleared
 and the local cache is registered as a slave of the new master.
 <p>
 This may be called as a result of calling other cache updating operations
 since that is when the disconnect and reconnect may take place.  When this
 happens, this method is called before the other methods return.
 <p>
 NOTE: Any subclass overriding this method <i>must</i> be sure to call super.reset()
 in all cases from within the override method, otherwise the cache will not recover
 properly after communication failures.

 <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.rmi.RemoteException</code></dd>
</dl>
</li>
</ul>
<a name="get-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;java.lang.Object&nbsp;get(java.lang.Object&nbsp;key)</pre>
<div class="block">Get cache entry with given key.
 If not in local cache, the master cache is checked.
 <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the corresponding cached object or null if not in cache</dd>
</dl>
</li>
</ul>
<a name="put-java.lang.Object-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;void&nbsp;put(java.lang.Object&nbsp;key,
                java.lang.Object&nbsp;value)</pre>
<div class="block">Put a cache entry with given key.
 The entry will also be put in the master cache, and any slave caches
 will have their corresponding entry removed.
 <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key object</dd>
<dd><code>value</code> - the value object</dd>
</dl>
</li>
</ul>
<a name="putEntry-java.lang.Object-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putEntry</h4>
<pre>protected&nbsp;void&nbsp;putEntry(java.lang.Object&nbsp;key,
                        java.lang.Object&nbsp;value)</pre>
<div class="block">Protected method which allows subclasses of CacheManager to
 take some action when a new entry is being put into the local cache.
 This method is invoked to put the entry in the local cache as a result
 of a local <code>put</code> call or a call forwarded from a slave cache
 or when a local <code>get</code> call downloads the entry from a master cache.
 If this cache has a master cache, the <code>put</code> call will already
 be forwarded to the master before this method is invoked.  Slave caches
 will be notified to remove their entries after this method returns.
 This method must not cause a recursive <code>put</code> call.
 <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key object</dd>
<dd><code>value</code> - the value object</dd>
</dl>
</li>
</ul>
<a name="update-java.lang.Object-java.lang.Object-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(java.lang.Object&nbsp;cache_key,
                   java.lang.Object&nbsp;update_key,
                   java.lang.Object&nbsp;update_value)</pre>
<div class="block">Notify master and slave caches of a partial update to a large cache entry.
 The existing master cache object will be updated with a call to <code>updateEntry</code>.
 Any slave caches will have their corresponding entry removed.  Subclasses should
 override <code>updateEntry</code> to implement partial updates for large objects.
 <p>
 The caller is expected to have already updated the local cache entry before this
 method is called.
 <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cache_key</code> - the key for the cache entry</dd>
<dd><code>update_key</code> - the key for what is being updated in the entry</dd>
<dd><code>update_value</code> - the updated value</dd>
</dl>
</li>
</ul>
<a name="updateEntry-java.lang.Object-java.lang.Object-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateEntry</h4>
<pre>protected&nbsp;java.lang.Object&nbsp;updateEntry(java.lang.Object&nbsp;current_value,
                                       java.lang.Object&nbsp;update_key,
                                       java.lang.Object&nbsp;update_value)</pre>
<div class="block">Perform a partial update to a large cached object.
 Subclasses should override.  This implementation assumes update_value is the new cache
 value.  This method is called after a <code>update</code> method is performed in a
 slave cache.  It must not cause a recursive <code>update</code> call.
 <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>current_value</code> - the current value for the cache entry</dd>
<dd><code>update_key</code> - the key for what is being updated in the entry</dd>
<dd><code>update_value</code> - the new value for whatever is being updated in the entry</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the updated value of the overall cache entry</dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;void&nbsp;remove(java.lang.Object&nbsp;key)</pre>
<div class="block">Remove an entry from the cache.
 The entry is also removed from the master cache and any slave caches.
 This is similar to <code>put.(key, null)</code> but it does not result in a
 null entry taking up space in the cache.
 <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key object (null = clear entire cache)</dd>
</dl>
</li>
</ul>
<a name="removeEntry-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeEntry</h4>
<pre>protected&nbsp;void&nbsp;removeEntry(java.lang.Object&nbsp;key)</pre>
<div class="block">Protected method which allows subclasses of CacheManager to
 take some action when a entry is being removed from the local cache.
 This method is invoked to remove the entry in the local cache as a result
 of a local <code>remove</code> call or a call forwarded from a master cache.
 If this cache has a master cache, the <code>remove</code> call will already
 be forwarded to the master before this method is invoked.  Slave caches
 will be notified to remove their entries after this method returns.
 This method must not cause a recursive <code>remove</code> call.
 <p>
 This method is not called when entries are being removed by the <code>overflow</code>
 or <code>reset</code> methods.
 <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the key object (null = clear entire cache)</dd>
</dl>
</li>
</ul>
<a name="isShutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isShutdown</h4>
<pre>public&nbsp;boolean&nbsp;isShutdown()</pre>
<div class="block">Whether this instance has been shutdown.  Primarily exposed for troubleshooting purposes.

  <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>#shutdownInstance()}</code></dd>
</dl>
</li>
</ul>
<a name="shutdownInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownInstance</h4>
<pre>protected&nbsp;void&nbsp;shutdownInstance()</pre>
<div class="block">Method intended for override by subclasses that need to do extra cleanup
  when a CacheManager instance is shut down and replaced.  Note that calling
  this will neither fully shut down an instance nor cause <a href="../../wt/cache/CacheManager.html#isShutdown--"><code>isShutdown()</code></a>
  to return true.  Rather this method serves as a callback for special class-specific
  shutdown needs from within the overall shutdown process.
  <p>
  CacheManager instances are shutdown and replaced within the server manager
  whenever a server manager changes between master and subordinate (slave) states.

  <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>#replaceInstance()}</code></dd>
</dl>
</li>
</ul>
<a name="replaceInstance--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>replaceInstance</h4>
<pre>protected&nbsp;void&nbsp;replaceInstance()</pre>
<div class="block">Called on a CacheManager that has been shutdown to allow subclass implementations
  to provide for a CacheManager's own replacement where this is necessary or where timely
  replacement is important.
  <p>
  CacheManager instances are shutdown and replaced within the server manager
  whenever a server manager changes between master and subordinate (slave) states.
  <p>
  It should rarely be necessary to override this method as shutdown CacheManager instances
  automatically replaced on demand upon <code>ServerManager#getServer(java.lang.String)</code>
  calls.

  <BR><BR><B>Supported API:</B> true</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>#shutdownInstance()}</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../wt/cache/GuavaCacheMonitorMBean.html" title="interface in wt.cache"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?wt/cache/CacheManager.html" target="_top">Frames</a></li>
<li><a href="CacheManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
