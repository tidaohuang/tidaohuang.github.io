<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_51) on Thu Nov 21 01:54:35 IST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>FormBasedLogin (WNC.HORSE.10.00.602)</title>
<meta name="date" content="2019-11-21">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FormBasedLogin (WNC.HORSE.10.00.602)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../com/ptc/fba/FormBasedLogin.Handler.html" title="interface in com.ptc.fba"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/ptc/fba/FormBasedLogin.html" target="_top">Frames</a></li>
<li><a href="FormBasedLogin.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.ptc.fba</div>
<h2 title="Class FormBasedLogin" class="title">Class FormBasedLogin</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.ptc.fba.FormBasedLogin</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">FormBasedLogin</span>
extends java.lang.Object</pre>
<div class="block">Utility class for performing a form-based login from a Java client.

    <BR><BR><B>Supported API: </B>true
    <BR><BR><B>Extendable: </B>false</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink">com.ptc.fba.FormBasedLogin.CredentialSource</span></code>
<div class="block">If a <a href="../../../com/ptc/fba/FormBasedLogin.Handler.html" title="interface in com.ptc.fba"><code>FormBasedLogin.Handler</code></a> implements this interface, these methods will be
  called to obtain and cache the new credentials after a successful login.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/ptc/fba/FormBasedLogin.Handler.html" title="interface in com.ptc.fba">FormBasedLogin.Handler</a></span></code>
<div class="block">Delegate interface used by <a href="../../../com/ptc/fba/FormBasedLogin.html" title="class in com.ptc.fba"><code>FormBasedLogin</code></a> to delegate actual process of performing a non-browser-based form-based login.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/ptc/fba/FormBasedLogin.html#canAccessTestUrl-java.net.URL-">canAccessTestUrl</a></span>(java.net.URL&nbsp;baseUrl)</code>
<div class="block">Test access to <i>baseUrl</i>/wtcore/jsp/testAuthAccess.jsp.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/ptc/fba/FormBasedLogin.Handler.html" title="interface in com.ptc.fba">FormBasedLogin.Handler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/ptc/fba/FormBasedLogin.html#getDefaultHandler--">getDefaultHandler</a></span>()</code>
<div class="block">Returns an instance of the default <a href="../../../com/ptc/fba/FormBasedLogin.Handler.html" title="interface in com.ptc.fba"><code>FormBasedLogin.Handler</code></a> implementation.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/ptc/fba/FormBasedLogin.html#login-java.net.URL-">login</a></span>(java.net.URL&nbsp;baseUrl)</code>
<div class="block">Same as <a href="../../../com/ptc/fba/FormBasedLogin.html#login-java.net.URL-java.lang.String-java.lang.String-"><code>login(java.net.URL, java.lang.String, java.lang.String)</code></a> but without ability to provide
  a default username and password.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/ptc/fba/FormBasedLogin.html#login-java.net.URL-java.lang.String-java.lang.String-">login</a></span>(java.net.URL&nbsp;baseUrl,
     java.lang.String&nbsp;defaultUserName,
     java.lang.String&nbsp;defaultPassword)</code>
<div class="block">Perform a form-based login.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="login-java.net.URL-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public static&nbsp;boolean&nbsp;login(java.net.URL&nbsp;baseUrl,
                            java.lang.String&nbsp;defaultUserName,
                            java.lang.String&nbsp;defaultPassword)</pre>
<div class="block">Perform a form-based login.
  <p>
  If the wt.properties entry wt.auth.form.enabled is not set to true, then this method will simply return true,
  indicating that no form-based authentication is required according to the server configuration.
  <p>
  Otherwise, access is tested as per <a href="../../../com/ptc/fba/FormBasedLogin.html#canAccessTestUrl-java.net.URL-"><code>canAccessTestUrl(java.net.URL)</code></a>.
  If the access test succeeds, then the method will return true, indicating that no form-based authentication is required.
  <p>
  If the access test fails, then the behavior differs depending on whether an parent <code>Applet</code> can be
  discovered via <a href="../../../wt/util/WTContext.html" title="class in wt.util"><code>WTContext</code></a> or via <code>NetAuthenticator#getParentComponent()</code>.  If so and if the
  wt.properties entry wt.auth.form.browserLogin.enabled is set to true, then a dialog is presented to the user
  requesting that they log in via the browser before continuing.  The dialog offers a button to show the login page (via
  <code>AppletContext.showDocument(java.net.URL, java.lang.String)</code>.  The URL is the value of the wt.properties entry
  wt.auth.form.browserLogin.url or, if this is unspecified, baseUrl.
  <p>
  If a parent Applet cannot be found or wt.auth.form.browserLogin.enabled is not set to true, the actual form-based
  login is delegated to a <a href="../../../com/ptc/fba/FormBasedLogin.Handler.html" title="interface in com.ptc.fba"><code>FormBasedLogin.Handler</code></a> implementation.  The <code>ServiceLoader</code> API is used to obtain the name
  of the implementation class to use.  See <code>ServiceLoader</code> for more information.  Note that the META-INF/services
  file name in this case should be com.ptc.fba.FormBasedLogin$Handler (note the '$' character).
  <p>
  If no <a href="../../../com/ptc/fba/FormBasedLogin.Handler.html" title="interface in com.ptc.fba"><code>FormBasedLogin.Handler</code></a> implementation class is specified, then a default implementation will be used as per
  <a href="../../../com/ptc/fba/FormBasedLogin.html#getDefaultHandler--"><code>getDefaultHandler()</code></a>.
  <p>
  Note that almost all form-based authentication is cookie based.  This class will therefore internally establish a cookie
  handler.  Unfortunately, if one forms any HTTP(S) connections to the given server prior to calling this API, those connections
  may be persistent and may lack a cookie handler.  It is therefore critical to establish a cookie handler prior to this
  point (via <a href="../../../com/ptc/http/cookies/CookieHandlerInstaller.html#ensureHandler--"><code>CookieHandlerInstaller.ensureHandler()</code></a>), else this class will fail to function properly.

   <BR><BR><B>Supported API: </B>true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseUrl</code> - Base URL of web application to authenticate against</dd>
<dd><code>defaultUserName</code> - Default user name; can be null</dd>
<dd><code>defaultPassword</code> - Default password; can be null</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True upon a successful login or if a login was unnecessary; otherwise false</dd>
</dl>
</li>
</ul>
<a name="login-java.net.URL-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public static&nbsp;boolean&nbsp;login(java.net.URL&nbsp;baseUrl)</pre>
<div class="block">Same as <a href="../../../com/ptc/fba/FormBasedLogin.html#login-java.net.URL-java.lang.String-java.lang.String-"><code>login(java.net.URL, java.lang.String, java.lang.String)</code></a> but without ability to provide
  a default username and password.

   <BR><BR><B>Supported API: </B>true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseUrl</code> - Base URL of web application to authenticate against</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True upon a successful login or if a login was unnecessary; otherwise false</dd>
</dl>
</li>
</ul>
<a name="canAccessTestUrl-java.net.URL-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canAccessTestUrl</h4>
<pre>public static&nbsp;boolean&nbsp;canAccessTestUrl(java.net.URL&nbsp;baseUrl)</pre>
<div class="block">Test access to <i>baseUrl</i>/wtcore/jsp/testAuthAccess.jsp.
  <p>
  When form-based authentication is used, this URL should require form-based authentication.

   <BR><BR><B>Supported API: </B>true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseUrl</code> - Base URL of web application</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the result of a request to the test URL is as expected, otherwise false.</dd>
</dl>
</li>
</ul>
<a name="getDefaultHandler--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDefaultHandler</h4>
<pre>public static&nbsp;<a href="../../../com/ptc/fba/FormBasedLogin.Handler.html" title="interface in com.ptc.fba">FormBasedLogin.Handler</a>&nbsp;getDefaultHandler()</pre>
<div class="block">Returns an instance of the default <a href="../../../com/ptc/fba/FormBasedLogin.Handler.html" title="interface in com.ptc.fba"><code>FormBasedLogin.Handler</code></a> implementation.  This is primarily intended for use by
  <a href="../../../com/ptc/fba/FormBasedLogin.html#login-java.net.URL-java.lang.String-java.lang.String-"><code>login(java.net.URL, java.lang.String, java.lang.String)</code></a>.
  <p>
  This implementation reads wt.auth.form.submitUrl from the server's wt.properties.
  If this fails or this property does not contain a valid URL, the login attempt immediately fails.
  <p>
  The implementation then requests <i>baseUrl</i>/login/login.jsp and parses it as XHTML to obtain text and password input fields, their
  names, and their localized labels.  These are used as the definition of the login form.  The JSP page can be customized as needed to
  reflect additional inputs (only text and password inputs are supported at this time) or provide custom labels.
  <p>
  If a username and password are both passed to the handler and the form definition indicates that these are the only form fields,
  then an attempt is made to post these to the URL specified by wt.auth.form.submitUrl.  If this succeeds and accessing the test URL is then
  successful (see <a href="../../../com/ptc/fba/FormBasedLogin.html#canAccessTestUrl-java.net.URL-"><code>canAccessTestUrl(java.net.URL)</code></a>), then success is returned.
  <p>
  Otherwise a dialog is presented based on the form definition to gather user inputs.  If the user cancels out of the dialog, failure is
  returned.  Otherwise the inputs are posted to the URL specified by wt.auth.form.submitUrl and access to the test URL is re-tested.
  If access fails, the dialog is presented to the user again.

   <BR><BR><B>Supported API: </B>true</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An instance of the default <a href="../../../com/ptc/fba/FormBasedLogin.Handler.html" title="interface in com.ptc.fba"><code>FormBasedLogin.Handler</code></a> implementation</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../com/ptc/fba/FormBasedLogin.Handler.html" title="interface in com.ptc.fba"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/ptc/fba/FormBasedLogin.html" target="_top">Frames</a></li>
<li><a href="FormBasedLogin.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
